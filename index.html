<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div id="res">
        <h2>Score</h2>
        <p>Current round: <span id="roundScore">Game not started yet</span></p>
        <p>Player <span id="playerScore">0</span> - <span id="computerScore">0</span> Computer</p>
        <p><span id="gameScore"></span></p>
    </div>
    <script>
        'use strict';

        function computerPlay() {
            let choice = ['Rock', 'Paper', 'Scissors'];
            let computerChoice = Math.floor(Math.random() * 3);
            return choice[computerChoice];
        }

        function playRound(playerChoice, computerChoice) {
            let message;
            if ((playerChoice == 'Rock' && computerChoice == 'Scissors')
                || (playerChoice == 'Scissors' && computerChoice == 'Paper')
                || (playerChoice == 'Paper' && computerChoice == 'Rock')) {
                message = 'You Win! ' + playerChoice + " beats " + computerChoice;
            }
            else if ((playerChoice == 'Rock' && computerChoice == 'Paper')
                || (playerChoice == 'Scissors' && computerChoice == 'Rock')
                || (playerChoice == 'Paper' && computerChoice == 'Scissors')) {
                message = 'You Lose! ' + playerChoice + " beats " + computerChoice;
            }
            else {
                message = 'Draw!';
            }
            return message;
        }

        let buttons = document.querySelectorAll('button');
        let playerScore = document.querySelector('#playerScore');
        let computerScore = document.querySelector('#computerScore');
        let roundScore = document.querySelector('#roundScore');
        let gameScore = document.querySelector('#gameScore');

        let victoryPlayer = 0;
        let victoryComputer = 0;
        let roundResult;
        let gameResult;
        buttons.forEach(element => element.addEventListener('click', function (e) {
            let playerChoice = e.target.innerHTML;
            let computerChoice = computerPlay();
            roundResult = playRound(playerChoice, computerChoice);
            roundScore.innerHTML = roundResult;
            if (roundResult.includes('Win!')) {
                victoryPlayer++;
                playerScore.innerHTML = victoryPlayer;
            }
            if (roundResult.includes('Lose!')) {
                victoryComputer++;
                computerScore.innerHTML = victoryComputer;
            }
            if (victoryPlayer == 5) {
                gameResult = 'You win the game!';
            }
            if (victoryComputer == 5) {
                gameResult = 'You lose the game!';
            }
            if (gameResult) {
                gameScore.innerHTML = gameResult;
                buttons.forEach(element => element.disabled = true);
            }

        }, false));

    </script>
</body>

</html>